"""
Script 7: ReflexiÃ³n CrÃ­tica
Plantilla para reflexiÃ³n personal sobre el proceso de anÃ¡lisis.
"""

from pathlib import Path

def generar_plantilla_reflexion(output_dir='../resultados'):
    """Genera plantilla para reflexiÃ³n crÃ­tica"""
    
    Path(output_dir).mkdir(exist_ok=True)
    
    reflexion = []
    reflexion.append("=" * 100)
    reflexion.append("ğŸ’­ REFLEXIÃ“N CRÃTICA SOBRE EL PROCESO DE ANÃLISIS")
    reflexion.append("=" * 100)
    reflexion.append("")
    reflexion.append("ğŸ“ INSTRUCCIONES:")
    reflexion.append("   Esta es una plantilla para tu reflexiÃ³n PERSONAL.")
    reflexion.append("   Completa cada secciÃ³n con tus propias palabras y experiencias.")
    reflexion.append("   La IA generÃ³ los scripts, pero TÃš debes reflexionar sobre el proceso.")
    reflexion.append("")
    reflexion.append("")
    
    # Pregunta 1
    reflexion.append("1ï¸âƒ£ Â¿QUÃ‰ FUE LO MÃS DIFÃCIL DEL ANÃLISIS?")
    reflexion.append("-" * 100)
    reflexion.append("")
    reflexion.append("Escribe aquÃ­ tu respuesta:")
    reflexion.append("")
    reflexion.append("Ejemplos de aspectos difÃ­ciles:")
    reflexion.append("   â€¢ Entender quÃ© mÃ©todo usar en cada caso")
    reflexion.append("   â€¢ Interpretar los resultados numÃ©ricos (autovalores, cargas, etc.)")
    reflexion.append("   â€¢ Decidir cuÃ¡ntos componentes/factores/clusters retener")
    reflexion.append("   â€¢ Comprender las diferencias entre ACP y AFE")
    reflexion.append("   â€¢ Dar sentido a los clusters (quÃ© representa cada grupo)")
    reflexion.append("   â€¢ Elegir la variable categÃ³rica para anÃ¡lisis discriminante")
    reflexion.append("   â€¢ [TU RESPUESTA AQUÃ]")
    reflexion.append("")
    reflexion.append("")
    
    # Pregunta 2
    reflexion.append("2ï¸âƒ£ Â¿QUÃ‰ DECISIONES TUVISTE QUE TOMAR TÃš?")
    reflexion.append("-" * 100)
    reflexion.append("")
    reflexion.append("Escribe aquÃ­ tu respuesta:")
    reflexion.append("")
    reflexion.append("Decisiones que DEBES tomar manualmente:")
    reflexion.append("   â€¢ Â¿CuÃ¡ntos componentes/factores retener? (aunque hay criterios, tÃº decides)")
    reflexion.append("   â€¢ Â¿CÃ³mo interpretar cada componente/factor? (darle un nombre/significado)")
    reflexion.append("   â€¢ Â¿CuÃ¡ntos clusters crear? (mÃ©todo del codo da guÃ­a, pero tÃº decides)")
    reflexion.append("   â€¢ Â¿QuÃ© significa cada cluster? (descripciÃ³n sustantiva)")
    reflexion.append("   â€¢ Â¿QuÃ© variable usar para discriminante? (elegir la mÃ¡s relevante)")
    reflexion.append("   â€¢ Â¿QuÃ© mÃ©todo es mejor para TU caso especÃ­fico?")
    reflexion.append("   â€¢ Â¿CÃ³mo presentar los resultados en el informe?")
    reflexion.append("   â€¢ [TUS DECISIONES AQUÃ]")
    reflexion.append("")
    reflexion.append("")
    
    # Pregunta 3
    reflexion.append("3ï¸âƒ£ Â¿EN QUÃ‰ PARTE TE AYUDÃ“ LA IA?")
    reflexion.append("-" * 100)
    reflexion.append("")
    reflexion.append("Escribe aquÃ­ tu respuesta:")
    reflexion.append("")
    reflexion.append("Lo que la IA SÃ hizo:")
    reflexion.append("   â€¢ Generar cÃ³digo Python para cada anÃ¡lisis")
    reflexion.append("   â€¢ Crear funciones para cargar y preparar datos")
    reflexion.append("   â€¢ Implementar los algoritmos (PCA, AFE, K-means, LDA)")
    reflexion.append("   â€¢ Generar grÃ¡ficos automÃ¡ticos (scree plots, matrices, etc.)")
    reflexion.append("   â€¢ Calcular mÃ©tricas estadÃ­sticas")
    reflexion.append("   â€¢ Crear tablas de resultados")
    reflexion.append("   â€¢ Estructurar el proyecto (carpetas, archivos)")
    reflexion.append("   â€¢ Generar plantillas de interpretaciÃ³n")
    reflexion.append("   â€¢ [TU RESPUESTA AQUÃ]")
    reflexion.append("")
    reflexion.append("")
    
    # Pregunta 4
    reflexion.append("4ï¸âƒ£ Â¿QUÃ‰ NO PUEDE AUTOMATIZAR LA IA Y LO HICISTE TÃš MANUALMENTE?")
    reflexion.append("-" * 100)
    reflexion.append("")
    reflexion.append("Escribe aquÃ­ tu respuesta:")
    reflexion.append("")
    reflexion.append("Lo que la IA NO puede hacer (y TÃš debes hacer):")
    reflexion.append("")
    reflexion.append("   ğŸ“Œ INTERPRETACIÃ“N SUSTANTIVA:")
    reflexion.append("      â€¢ La IA calcula nÃºmeros, TÃš les das significado")
    reflexion.append("      â€¢ Ejemplo: PC1 tiene cargas altas en edad, peso, IMC")
    reflexion.append("        â†’ TÃš decides si llamarlo 'Factor de Desarrollo FÃ­sico'")
    reflexion.append("")
    reflexion.append("   ğŸ“Œ DECISIONES CONTEXTUALES:")
    reflexion.append("      â€¢ Â¿Son estos resultados coherentes con la teorÃ­a?")
    reflexion.append("      â€¢ Â¿Tienen sentido en el contexto de tu estudio?")
    reflexion.append("      â€¢ Â¿Hay outliers o errores en los datos?")
    reflexion.append("")
    reflexion.append("   ğŸ“Œ CRÃTICA METODOLÃ“GICA:")
    reflexion.append("      â€¢ Â¿Es apropiado usar este mÃ©todo con estos datos?")
    reflexion.append("      â€¢ Â¿QuÃ© limitaciones tiene el anÃ¡lisis?")
    reflexion.append("      â€¢ Â¿QuÃ© supuestos se cumplen o no?")
    reflexion.append("")
    reflexion.append("   ğŸ“Œ REDACCIÃ“N DEL INFORME:")
    reflexion.append("      â€¢ Escribir introducciÃ³n, mÃ©todos, discusiÃ³n")
    reflexion.append("      â€¢ Explicar por quÃ© elegiste cada mÃ©todo")
    reflexion.append("      â€¢ Discutir implicaciones de los resultados")
    reflexion.append("")
    reflexion.append("   ğŸ“Œ VALIDACIÃ“N:")
    reflexion.append("      â€¢ Revisar que los resultados sean correctos")
    reflexion.append("      â€¢ Verificar que los grÃ¡ficos tengan sentido")
    reflexion.append("      â€¢ Comprobar que no hay errores lÃ³gicos")
    reflexion.append("")
    reflexion.append("   [TU RESPUESTA AQUÃ]")
    reflexion.append("")
    reflexion.append("")
    
    # Pregunta 5
    reflexion.append("5ï¸âƒ£ Â¿QUÃ‰ APRENDISTE DEL PROCESO?")
    reflexion.append("-" * 100)
    reflexion.append("")
    reflexion.append("Escribe aquÃ­ tu respuesta:")
    reflexion.append("")
    reflexion.append("Reflexiona sobre:")
    reflexion.append("   â€¢ Â¿QuÃ© conceptos estadÃ­sticos aprendiste o reforzaste?")
    reflexion.append("   â€¢ Â¿CÃ³mo cambiÃ³ tu comprensiÃ³n de estos mÃ©todos?")
    reflexion.append("   â€¢ Â¿QuÃ© harÃ­as diferente la prÃ³xima vez?")
    reflexion.append("   â€¢ Â¿QuÃ© habilidades desarrollaste?")
    reflexion.append("   â€¢ Â¿CÃ³mo aplicarÃ­as esto en futuros proyectos?")
    reflexion.append("")
    reflexion.append("Aprendizajes tÃ©cnicos:")
    reflexion.append("   â€¢ Diferencias entre mÃ©todos de reducciÃ³n de dimensionalidad")
    reflexion.append("   â€¢ CÃ³mo interpretar autovalores y cargas factoriales")
    reflexion.append("   â€¢ CÃ³mo usar Python para anÃ¡lisis estadÃ­stico")
    reflexion.append("   â€¢ [TUS APRENDIZAJES AQUÃ]")
    reflexion.append("")
    reflexion.append("Aprendizajes sobre IA:")
    reflexion.append("   â€¢ La IA es una herramienta poderosa para automatizar cÃ¡lculos")
    reflexion.append("   â€¢ Pero NO reemplaza el pensamiento crÃ­tico humano")
    reflexion.append("   â€¢ El analista debe entender QUÃ‰ hace la IA y POR QUÃ‰")
    reflexion.append("   â€¢ La interpretaciÃ³n final siempre requiere juicio humano")
    reflexion.append("   â€¢ [TUS REFLEXIONES AQUÃ]")
    reflexion.append("")
    reflexion.append("")
    
    # DivisiÃ³n clara de responsabilidades
    reflexion.append("=" * 100)
    reflexion.append("ğŸ¤– vs ğŸ‘¤ DIVISIÃ“N DE TRABAJO: IA vs HUMANO")
    reflexion.append("=" * 100)
    reflexion.append("")
    
    reflexion.append("ğŸ¤– LO QUE HIZO LA IA:")
    reflexion.append("-" * 100)
    reflexion.append("   âœ… Generar cÃ³digo Python")
    reflexion.append("   âœ… Implementar algoritmos estadÃ­sticos")
    reflexion.append("   âœ… Calcular mÃ©tricas numÃ©ricas")
    reflexion.append("   âœ… Crear grÃ¡ficos y tablas")
    reflexion.append("   âœ… Estructurar archivos y carpetas")
    reflexion.append("   âœ… Generar plantillas y formatos")
    reflexion.append("")
    
    reflexion.append("ğŸ‘¤ LO QUE DEBES HACER TÃš:")
    reflexion.append("-" * 100)
    reflexion.append("   âœ… Ejecutar los scripts y revisar resultados")
    reflexion.append("   âœ… INTERPRETAR los nÃºmeros (darles significado)")
    reflexion.append("   âœ… DECIDIR nÃºmero de componentes/factores/clusters")
    reflexion.append("   âœ… NOMBRAR y DESCRIBIR componentes/factores/clusters")
    reflexion.append("   âœ… EVALUAR coherencia con teorÃ­a y contexto")
    reflexion.append("   âœ… CRITICAR limitaciones del anÃ¡lisis")
    reflexion.append("   âœ… REDACTAR el informe final")
    reflexion.append("   âœ… REFLEXIONAR sobre el proceso")
    reflexion.append("   âœ… APRENDER de los conceptos estadÃ­sticos")
    reflexion.append("")
    
    reflexion.append("=" * 100)
    reflexion.append("ğŸ“ IMPORTANTE:")
    reflexion.append("   Â¡Completa esta reflexiÃ³n con TUS PROPIAS PALABRAS!")
    reflexion.append("   No copies las sugerencias, Ãºsalas solo como guÃ­a.")
    reflexion.append("   Tu profesor quiere saber TU experiencia personal.")
    reflexion.append("=" * 100)
    reflexion.append("")
    
    # Guardar
    reflexion_text = "\n".join(reflexion)
    print(reflexion_text)
    
    path = Path(output_dir) / 'plantilla_reflexion_critica.txt'
    with open(path, 'w', encoding='utf-8') as f:
        f.write(reflexion_text)
    
    print(f"\nğŸ’¾ Plantilla guardada: {path}")
    print("\nâš ï¸  RECUERDA: Debes completar esta plantilla con tus propias reflexiones!")

def main():
    """FunciÃ³n principal"""
    print("=" * 100)
    print("ğŸ’­ ANÃLISIS 4: PLANTILLA DE REFLEXIÃ“N CRÃTICA")
    print("=" * 100)
    print("")
    print("âš ï¸  Esta es una PLANTILLA que debes completar TÃš.")
    print("    La IA NO puede hacer esta parte por ti.")
    print("")
    
    generar_plantilla_reflexion()
    
    print("\nâœ… Â¡Plantilla de reflexiÃ³n generada!")
    print("\nğŸ“‹ PRÃ“XIMOS PASOS:")
    print("   1. Abre el archivo: resultados/plantilla_reflexion_critica.txt")
    print("   2. Lee cada pregunta cuidadosamente")
    print("   3. Escribe TUS propias respuestas (no copies las sugerencias)")
    print("   4. SÃ© honesto sobre tu experiencia")
    print("   5. Incluye esta reflexiÃ³n en tu informe final")

if __name__ == "__main__":
    main()
